<!DOCTYPE html>
<html>
  <head>
    <title>Document</title>
  </head>

  <body>
    <script>
      let counter = 0;

      //이벤트를 제거하려면 이벤트 리스너를 변수 또는 상수로 가지고 있어야 함!
      const listener = () => {
        header.textContent = `클릭 횟수 : ${++counter}`;
      };

      const header = document.createElement("h1");
      header.textContent = `클릭 횟수 : 0`;

      const p = document.createElement("p");
      p.textContent = `이벤트 연결 : 해제`;

      const connectBtn = document.createElement("button");
      connectBtn.textContent = "이벤트 연결 버튼";
      connectBtn.addEventListener("click", () => {
        header.addEventListener("click", listener);
        p.textContent = `이벤트 연결 : 연결`;
      });

      const disConnectBtn = document.createElement("button");
      disConnectBtn.textContent = "이벤트 해제 버튼";
      disConnectBtn.addEventListener("click", () => {
        header.removeEventListener("click", listener);
        p.textContent = `이벤트 연결 : 해제`;
      });

      document.body.appendChild(header);
      document.body.appendChild(p);
      document.body.appendChild(connectBtn);
      document.body.appendChild(disConnectBtn);
    </script>
  </body>
</html>
